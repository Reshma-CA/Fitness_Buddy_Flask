{% extends "base.html" %}

{% block title %}All Workouts{% endblock %}

{% block content %}
<center>
    <h1>Welcome, {{ user.name }}</h1>
</center> 

<center>
  {% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="alert alert-info flashes" role="alert" style="color:red;">
      {{ messages[0] }}
    </div>
  {% endif %}
{% endwith %}
</center>



<div style="padding: 90px;">
    <table class="table table-hover"  style="width: 80%; height: 300px; margin: auto; border-collapse: collapse;">
        <thead style="background-color: #f8f9fa;">
          <tr>
            <th scope="col">id</th>
            <th scope="col">Push-Ups</th>
            <th scope="col">Performed At</th>
            <th scope="col">Comment</th>
          </tr>
        </thead>
        <tbody>
            {% for item in workouts %}
          <tr>
            <th scope="row">{{item.id}}</th>
            <td>{{item.pushups}}</td>
            <td>{{ item.date_posted.strftime('%d/%m/%y') }}</td> 
            <td>{{item.comment}}</td>
            <td><a href="{{ url_for('main.Edit_workouts', id=item.id) }}" class="btn btn-success">Edit</a></td>
            <td><a href="{{ url_for('main.delete_workout', id=item.id) }}" class="btn btn-danger">Delete</a></td>
            
          </tr>

          {% endfor %}
        
          
        </tbody>
    </table> 
</div>

<center>
  {% for page_num in workouts.iter_pages(left_edge = 1,right_edge=1,left_current=1,right_current=1)%}

  {% if page_num %}

  {% if workouts.page == page_num %}

  <a class= "btn btn-info mb-4"
  href= "{{ url_for('main.user_workouts', page= page_num) }}"
  >{{page_num}}</a>

  {% else %}

  <a class= "btn btn-outline-info mb-4"
  href= "{{ url_for('main.user_workouts', page= page_num) }}"
  >{{page_num}}</a> 

  {% endif %} {% else %} .... {% endif %} {% endfor %}
 </center>


{% endblock %}
